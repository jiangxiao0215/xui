!function(t){function e(t){var s=t.offsetLeft;return null!=t.offsetParent&&(s+=e(t.offsetParent)),s}var s=function(t,e,s){this.main=s||document.getElementById(t),this.settings=e,this.value=this.settings.defaultVal,this.obj=this.main.querySelector(".ny-slider-btn"),this.range=this.main.querySelector(".ny-slider-range"),this.itembox=this.main.querySelector(".ny-slider-item-box"),this.disX=this.main.clientX-8};s.prototype.init=function(){var s=this,n=s.settings;this.main.onselectstart=function(){return!1},this.obj.onmousedown=function(e){var e=e||t.event;return s.mousedown(e),!1};for(var i="",o="",a=n.value.length,u=0;u<a;u++){var l=n.width[u]||(a+1)/10,r=n.value[u],m=n.unit;i+='<div class="ny-slider-item" style="width: '+l+'%;" data-index="'+u+'"><span class="slider-item-number">'+r+m+"</span></div>",o+='<div class="ny-slider-range-item" style="width: '+l+'%;" data-index="'+u+'"><span class="range-item-number">'+r+m+"</span></div>"}this.range.querySelector(".ny-slider-range-current").innerHTML=o,this.itembox.innerHTML=i,this.moveto(n.defaultVal);var c=function(n){var i=(n=n||t.event).clientX-e(s.main),o=n.srcElement.getAttribute("data-index")||n.srcElement.parentNode.getAttribute("data-index"),a=s.settings.maxwidth,u=s.settings.min/s.settings.max*a,l=a;if(o){var r=s.settings.value[o];i>=u&&i<=l&&s.mousemove(n,i,r,function(t){var e=s.settings.step;s.value=Math.floor(t/e)*e,t=s.value,s.moveto(t),s.settings.onceCall(t)})}};jQuery?$(this.main).off().on("click",function(){c()}):document.addEventListener?this.main.addEventListener("click",c):this.main.attachEvent("onclick",c)},s.prototype.mousedown=function(e){var s=this;this.disX=e.clientX-this.obj.offsetLeft,document.onmousemove=function(e){var e=e||t.event;s.mousemove(e)},document.onmouseup=function(){s.mouseup()}},s.prototype.mousemove=function(t,e,s,n){var i=this,o=i.settings.maxwidth,a=e||t.clientX-i.disX,u=i.settings.min/i.settings.max*o,l=o;a>=u&&a<=l&&setTimeout(function(){i.obj.style.left=a+"px",i.range.style.width=a+"px",s&&(i.value=s);var t,e=i.sector(i.settings.value,i.value),u=0==e?i.settings.value[0]:i.settings.value[e]-i.settings.value[e-1];if(0==e)t=Math.floor(a/(o*i.settings.width[e]/100)*u),a>i.settings.width[0]*o/100+i.settings.width[1]*o/100/(i.settings.value[1]-i.settings.value[0])&&(t=i.settings.value[0]+i.settings.step);else{for(var l=0,r=1;r<=e;r++)l+=parseInt(i.settings.width[e-r]*o/100);t=i.settings.value[e-1]+Math.floor((a-l)/(o*i.settings.width[e]/100)*u)}t<i.settings.min?(t=i.settings.min,i.moveto(t)):t>i.settings.max&&(t=i.settings.max,i.moveto(t)),i.value=t,i.settings.callback(t),n&&n(t)},10)},s.prototype.add=function(){var t=this,e=t.value;e<t.settings.max&&(t.value=e+t.settings.step,t.moveto(e+t.settings.step))},s.prototype.less=function(){var t=this,e=t.value;e>t.settings.min&&(t.value=e-t.settings.step,t.moveto(e-t.settings.step))},s.prototype.moveto=function(t){var e=this;e.value=t;var s=e.settings.maxwidth,n=0,i=e.sector(e.settings.value,t),o=0==i?e.settings.value[0]:e.settings.value[i]-e.settings.value[i-1];if(0===i)n=t/e.settings.value[0]*s*e.settings.width[0]/100;else{for(var a=1;a<=i;a++)n+=parseInt(e.settings.width[i-a]*s/100);n+=(t-e.settings.value[i-1])/o*s*(e.settings.width[i]/100)}e.obj.style.left=n+"px",e.range.style.width=n+"px",e.settings.callback(t)},s.prototype.mouseup=function(){document.onmousemove=null,document.onmouseup=null;var t=this.settings.step;this.value=Math.floor(this.value/t)*t,this.moveto(this.value),this.settings.onceCall(this.value)},s.prototype.sector=function(t,e){for(var s=0;s<t.length;s++){if(e>=this.settings.min&&e<=t[0])return 0;if(e<=t[s]&&e>t[s-1])return s}},document.querySelectorAll||(document.querySelectorAll=function(e){var s,n=document.createElement("style"),i=[];for(document.documentElement.firstChild.appendChild(n),document._qsa=[],n.styleSheet.cssText=e+"{x-qsa:expression(document._qsa && document._qsa.push(this))}",t.scrollBy(0,0),n.parentNode.removeChild(n);document._qsa.length;)(s=document._qsa.shift()).style.removeAttribute("x-qsa"),i.push(s);return document._qsa=null,i}),document.querySelector||(document.querySelector=function(t){var e=document.querySelectorAll(t);return e.length?e[0]:null});!function(){var t=1e4;document.createElement("div").querySelectorAll}();t.NYdrag=s}(window);